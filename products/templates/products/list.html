{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="container my-4">
    <h1 class="h3 mb-3">Featured Prints</h1>

    <div class="row g-3">
        {% for p in products %}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
            <div class="card shadow-sm h-100">
            {% if p.image %}
            <a href="{% url 'products:detail' pk=p.id %}">
                <img src="{{ p.image.url }}" class="card-img-top" alt="{{ p.name }}">
            </a>
            {% endif %}

            <div class="card-body">
            <h5 class="card-title mb-1">
                <a href="{% url 'products:detail' pk=p.id %}" class="text-dark">{{ p.name }}</a>
            </h5>

            <p class="text-muted small mb-2">
                {{ p.category.friendly_name|default:p.category.name }}
            </p>

            <div class="d-flex align-items-center justify-content-between">
                <span class="fw-bold">${{ p.price }}</span>
                <a href="#" class="btn btn-sm btn-success">Add to Cart</a>
            </div>
            </div>
            </div>
        </div>
        {% empty %}
        <p class="text-muted">NO PRODUCTS</p>
        {% endfor %}
    </div>
</section>
{% endblock %}